.text

.include "macros.inc"

.global CircleBufferReadBytes
CircleBufferReadBytes:
/* 8052C4F0 00527A30  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8052C4F4 00527A34  7C 08 02 A6 */	mflr r0
/* 8052C4F8 00527A38  90 01 00 24 */	stw r0, 0x24(r1)
/* 8052C4FC 00527A3C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8052C500 00527A40  7C BF 2B 78 */	mr r31, r5
/* 8052C504 00527A44  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8052C508 00527A48  7C 7E 1B 78 */	mr r30, r3
/* 8052C50C 00527A4C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8052C510 00527A50  93 81 00 10 */	stw r28, 0x10(r1)
/* 8052C514 00527A54  7C 9C 23 78 */	mr r28, r4
/* 8052C518 00527A58  80 03 00 10 */	lwz r0, 0x10(r3)
/* 8052C51C 00527A5C  7C 1F 00 40 */	cmplw r31, r0
/* 8052C520 00527A60  40 81 00 0C */	ble lbl_8052C52C
/* 8052C524 00527A64  38 60 FF FF */	li r3, -1
/* 8052C528 00527A68  48 00 00 B0 */	b lbl_8052C5D8
lbl_8052C52C:
/* 8052C52C 00527A6C  38 7E 00 18 */	addi r3, r30, 0x18
/* 8052C530 00527A70  48 00 02 4D */	bl MWEnterCriticalSection
/* 8052C534 00527A74  80 7E 00 08 */	lwz r3, 8(r30)
/* 8052C538 00527A78  80 9E 00 00 */	lwz r4, 0(r30)
/* 8052C53C 00527A7C  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 8052C540 00527A80  7C 63 20 50 */	subf r3, r3, r4
/* 8052C544 00527A84  7F A3 00 50 */	subf r29, r3, r0
/* 8052C548 00527A88  7C 1F E8 40 */	cmplw r31, r29
/* 8052C54C 00527A8C  40 80 00 20 */	bge lbl_8052C56C
/* 8052C550 00527A90  7F 83 E3 78 */	mr r3, r28
/* 8052C554 00527A94  7F E5 FB 78 */	mr r5, r31
/* 8052C558 00527A98  4B AD 7D E1 */	bl memcpy
/* 8052C55C 00527A9C  80 1E 00 00 */	lwz r0, 0(r30)
/* 8052C560 00527AA0  7C 00 FA 14 */	add r0, r0, r31
/* 8052C564 00527AA4  90 1E 00 00 */	stw r0, 0(r30)
/* 8052C568 00527AA8  48 00 00 30 */	b lbl_8052C598
lbl_8052C56C:
/* 8052C56C 00527AAC  7F 83 E3 78 */	mr r3, r28
/* 8052C570 00527AB0  7F A5 EB 78 */	mr r5, r29
/* 8052C574 00527AB4  4B AD 7D C5 */	bl memcpy
/* 8052C578 00527AB8  80 9E 00 08 */	lwz r4, 8(r30)
/* 8052C57C 00527ABC  7C 7C EA 14 */	add r3, r28, r29
/* 8052C580 00527AC0  7C BD F8 50 */	subf r5, r29, r31
/* 8052C584 00527AC4  4B AD 7D B5 */	bl memcpy
/* 8052C588 00527AC8  80 1E 00 08 */	lwz r0, 8(r30)
/* 8052C58C 00527ACC  7C 00 FA 14 */	add r0, r0, r31
/* 8052C590 00527AD0  7C 1D 00 50 */	subf r0, r29, r0
/* 8052C594 00527AD4  90 1E 00 00 */	stw r0, 0(r30)
lbl_8052C598:
/* 8052C598 00527AD8  80 9E 00 08 */	lwz r4, 8(r30)
/* 8052C59C 00527ADC  80 1E 00 00 */	lwz r0, 0(r30)
/* 8052C5A0 00527AE0  80 7E 00 0C */	lwz r3, 0xc(r30)
/* 8052C5A4 00527AE4  7C 04 00 50 */	subf r0, r4, r0
/* 8052C5A8 00527AE8  7C 03 00 40 */	cmplw r3, r0
/* 8052C5AC 00527AEC  40 82 00 08 */	bne lbl_8052C5B4
/* 8052C5B0 00527AF0  90 9E 00 00 */	stw r4, 0(r30)
lbl_8052C5B4:
/* 8052C5B4 00527AF4  80 1E 00 14 */	lwz r0, 0x14(r30)
/* 8052C5B8 00527AF8  38 7E 00 18 */	addi r3, r30, 0x18
/* 8052C5BC 00527AFC  7C 00 FA 14 */	add r0, r0, r31
/* 8052C5C0 00527B00  90 1E 00 14 */	stw r0, 0x14(r30)
/* 8052C5C4 00527B04  80 1E 00 10 */	lwz r0, 0x10(r30)
/* 8052C5C8 00527B08  7C 1F 00 50 */	subf r0, r31, r0
/* 8052C5CC 00527B0C  90 1E 00 10 */	stw r0, 0x10(r30)
/* 8052C5D0 00527B10  48 00 01 89 */	bl MWExitCriticalSection
/* 8052C5D4 00527B14  38 60 00 00 */	li r3, 0
lbl_8052C5D8:
/* 8052C5D8 00527B18  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8052C5DC 00527B1C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8052C5E0 00527B20  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8052C5E4 00527B24  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8052C5E8 00527B28  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8052C5EC 00527B2C  7C 08 03 A6 */	mtlr r0
/* 8052C5F0 00527B30  38 21 00 20 */	addi r1, r1, 0x20
/* 8052C5F4 00527B34  4E 80 00 20 */	blr 

.global CircleBufferWriteBytes
CircleBufferWriteBytes:
/* 8052C5F8 00527B38  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8052C5FC 00527B3C  7C 08 02 A6 */	mflr r0
/* 8052C600 00527B40  90 01 00 24 */	stw r0, 0x24(r1)
/* 8052C604 00527B44  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8052C608 00527B48  7C BF 2B 78 */	mr r31, r5
/* 8052C60C 00527B4C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8052C610 00527B50  7C 7E 1B 78 */	mr r30, r3
/* 8052C614 00527B54  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8052C618 00527B58  93 81 00 10 */	stw r28, 0x10(r1)
/* 8052C61C 00527B5C  7C 9C 23 78 */	mr r28, r4
/* 8052C620 00527B60  80 03 00 14 */	lwz r0, 0x14(r3)
/* 8052C624 00527B64  7C 1F 00 40 */	cmplw r31, r0
/* 8052C628 00527B68  40 81 00 0C */	ble lbl_8052C634
/* 8052C62C 00527B6C  38 60 FF FF */	li r3, -1
/* 8052C630 00527B70  48 00 00 B0 */	b lbl_8052C6E0
lbl_8052C634:
/* 8052C634 00527B74  38 7E 00 18 */	addi r3, r30, 0x18
/* 8052C638 00527B78  48 00 01 45 */	bl MWEnterCriticalSection
/* 8052C63C 00527B7C  80 9E 00 08 */	lwz r4, 8(r30)
/* 8052C640 00527B80  80 7E 00 04 */	lwz r3, 4(r30)
/* 8052C644 00527B84  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 8052C648 00527B88  7C 84 18 50 */	subf r4, r4, r3
/* 8052C64C 00527B8C  7F A4 00 50 */	subf r29, r4, r0
/* 8052C650 00527B90  7C 1D F8 40 */	cmplw r29, r31
/* 8052C654 00527B94  41 80 00 20 */	blt lbl_8052C674
/* 8052C658 00527B98  7F 84 E3 78 */	mr r4, r28
/* 8052C65C 00527B9C  7F E5 FB 78 */	mr r5, r31
/* 8052C660 00527BA0  4B AD 7C D9 */	bl memcpy
/* 8052C664 00527BA4  80 1E 00 04 */	lwz r0, 4(r30)
/* 8052C668 00527BA8  7C 00 FA 14 */	add r0, r0, r31
/* 8052C66C 00527BAC  90 1E 00 04 */	stw r0, 4(r30)
/* 8052C670 00527BB0  48 00 00 30 */	b lbl_8052C6A0
lbl_8052C674:
/* 8052C674 00527BB4  7F 84 E3 78 */	mr r4, r28
/* 8052C678 00527BB8  7F A5 EB 78 */	mr r5, r29
/* 8052C67C 00527BBC  4B AD 7C BD */	bl memcpy
/* 8052C680 00527BC0  80 7E 00 08 */	lwz r3, 8(r30)
/* 8052C684 00527BC4  7C 9C EA 14 */	add r4, r28, r29
/* 8052C688 00527BC8  7C BD F8 50 */	subf r5, r29, r31
/* 8052C68C 00527BCC  4B AD 7C AD */	bl memcpy
/* 8052C690 00527BD0  80 1E 00 08 */	lwz r0, 8(r30)
/* 8052C694 00527BD4  7C 00 FA 14 */	add r0, r0, r31
/* 8052C698 00527BD8  7C 1D 00 50 */	subf r0, r29, r0
/* 8052C69C 00527BDC  90 1E 00 04 */	stw r0, 4(r30)
lbl_8052C6A0:
/* 8052C6A0 00527BE0  80 9E 00 08 */	lwz r4, 8(r30)
/* 8052C6A4 00527BE4  80 1E 00 04 */	lwz r0, 4(r30)
/* 8052C6A8 00527BE8  80 7E 00 0C */	lwz r3, 0xc(r30)
/* 8052C6AC 00527BEC  7C 04 00 50 */	subf r0, r4, r0
/* 8052C6B0 00527BF0  7C 03 00 40 */	cmplw r3, r0
/* 8052C6B4 00527BF4  40 82 00 08 */	bne lbl_8052C6BC
/* 8052C6B8 00527BF8  90 9E 00 04 */	stw r4, 4(r30)
lbl_8052C6BC:
/* 8052C6BC 00527BFC  80 1E 00 14 */	lwz r0, 0x14(r30)
/* 8052C6C0 00527C00  38 7E 00 18 */	addi r3, r30, 0x18
/* 8052C6C4 00527C04  7C 1F 00 50 */	subf r0, r31, r0
/* 8052C6C8 00527C08  90 1E 00 14 */	stw r0, 0x14(r30)
/* 8052C6CC 00527C0C  80 1E 00 10 */	lwz r0, 0x10(r30)
/* 8052C6D0 00527C10  7C 00 FA 14 */	add r0, r0, r31
/* 8052C6D4 00527C14  90 1E 00 10 */	stw r0, 0x10(r30)
/* 8052C6D8 00527C18  48 00 00 81 */	bl MWExitCriticalSection
/* 8052C6DC 00527C1C  38 60 00 00 */	li r3, 0
lbl_8052C6E0:
/* 8052C6E0 00527C20  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8052C6E4 00527C24  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8052C6E8 00527C28  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8052C6EC 00527C2C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8052C6F0 00527C30  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8052C6F4 00527C34  7C 08 03 A6 */	mtlr r0
/* 8052C6F8 00527C38  38 21 00 20 */	addi r1, r1, 0x20
/* 8052C6FC 00527C3C  4E 80 00 20 */	blr 

.global CircleBufferInitialize
CircleBufferInitialize:
/* 8052C700 00527C40  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8052C704 00527C44  7C 08 02 A6 */	mflr r0
/* 8052C708 00527C48  7C 66 1B 78 */	mr r6, r3
/* 8052C70C 00527C4C  90 01 00 14 */	stw r0, 0x14(r1)
/* 8052C710 00527C50  38 00 00 00 */	li r0, 0
/* 8052C714 00527C54  90 83 00 08 */	stw r4, 8(r3)
/* 8052C718 00527C58  38 66 00 18 */	addi r3, r6, 0x18
/* 8052C71C 00527C5C  90 A6 00 0C */	stw r5, 0xc(r6)
/* 8052C720 00527C60  80 86 00 08 */	lwz r4, 8(r6)
/* 8052C724 00527C64  90 86 00 00 */	stw r4, 0(r6)
/* 8052C728 00527C68  80 86 00 08 */	lwz r4, 8(r6)
/* 8052C72C 00527C6C  90 86 00 04 */	stw r4, 4(r6)
/* 8052C730 00527C70  90 06 00 10 */	stw r0, 0x10(r6)
/* 8052C734 00527C74  80 06 00 0C */	lwz r0, 0xc(r6)
/* 8052C738 00527C78  90 06 00 14 */	stw r0, 0x14(r6)
/* 8052C73C 00527C7C  48 00 00 71 */	bl MWInitializeCriticalSection
/* 8052C740 00527C80  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8052C744 00527C84  7C 08 03 A6 */	mtlr r0
/* 8052C748 00527C88  38 21 00 10 */	addi r1, r1, 0x10
/* 8052C74C 00527C8C  4E 80 00 20 */	blr 

.global CBGetBytesAvailableForRead
CBGetBytesAvailableForRead:
/* 8052C750 00527C90  80 63 00 10 */	lwz r3, 0x10(r3)
/* 8052C754 00527C94  4E 80 00 20 */	blr
