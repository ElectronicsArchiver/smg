.text

.include "macros.inc"

.global TRKDestructEvent
TRKDestructEvent:
/* 80527174 005226B4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80527178 005226B8  7C 08 02 A6 */	mflr r0
/* 8052717C 005226BC  90 01 00 14 */	stw r0, 0x14(r1)
/* 80527180 005226C0  80 63 00 08 */	lwz r3, 8(r3)
/* 80527184 005226C4  48 00 0A 39 */	bl TRKReleaseBuffer
/* 80527188 005226C8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8052718C 005226CC  7C 08 03 A6 */	mtlr r0
/* 80527190 005226D0  38 21 00 10 */	addi r1, r1, 0x10
/* 80527194 005226D4  4E 80 00 20 */	blr 

.global TRKConstructEvent
TRKConstructEvent:
/* 80527198 005226D8  90 83 00 00 */	stw r4, 0(r3)
/* 8052719C 005226DC  38 80 00 00 */	li r4, 0
/* 805271A0 005226E0  38 00 FF FF */	li r0, -1
/* 805271A4 005226E4  90 83 00 04 */	stw r4, 4(r3)
/* 805271A8 005226E8  90 03 00 08 */	stw r0, 8(r3)
/* 805271AC 005226EC  4E 80 00 20 */	blr 

.global TRKPostEvent
TRKPostEvent:
/* 805271B0 005226F0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 805271B4 005226F4  7C 08 02 A6 */	mflr r0
/* 805271B8 005226F8  3C 80 80 6A */	lis r4, lbl_8069A7E0@ha
/* 805271BC 005226FC  90 01 00 24 */	stw r0, 0x24(r1)
/* 805271C0 00522700  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 805271C4 00522704  3B E0 00 00 */	li r31, 0
/* 805271C8 00522708  93 C1 00 18 */	stw r30, 0x18(r1)
/* 805271CC 0052270C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 805271D0 00522710  7C 7D 1B 78 */	mr r29, r3
/* 805271D4 00522714  38 64 A7 E0 */	addi r3, r4, lbl_8069A7E0@l
/* 805271D8 00522718  48 00 26 C9 */	bl TRKAcquireMutex
/* 805271DC 0052271C  3C 60 80 6A */	lis r3, lbl_8069A7E0@ha
/* 805271E0 00522720  3B C3 A7 E0 */	addi r30, r3, lbl_8069A7E0@l
/* 805271E4 00522724  80 7E 00 04 */	lwz r3, 4(r30)
/* 805271E8 00522728  2C 03 00 02 */	cmpwi r3, 2
/* 805271EC 0052272C  40 82 00 0C */	bne lbl_805271F8
/* 805271F0 00522730  3B E0 01 00 */	li r31, 0x100
/* 805271F4 00522734  48 00 00 70 */	b lbl_80527264
lbl_805271F8:
/* 805271F8 00522738  80 1E 00 08 */	lwz r0, 8(r30)
/* 805271FC 0052273C  7F A4 EB 78 */	mr r4, r29
/* 80527200 00522740  38 A0 00 0C */	li r5, 0xc
/* 80527204 00522744  7C 00 1A 14 */	add r0, r0, r3
/* 80527208 00522748  54 03 0F FE */	srwi r3, r0, 0x1f
/* 8052720C 0052274C  54 00 07 FE */	clrlwi r0, r0, 0x1f
/* 80527210 00522750  7C 00 1A 78 */	xor r0, r0, r3
/* 80527214 00522754  7C 03 00 50 */	subf r0, r3, r0
/* 80527218 00522758  1F A0 00 0C */	mulli r29, r0, 0xc
/* 8052721C 0052275C  7C 7E EA 14 */	add r3, r30, r29
/* 80527220 00522760  38 63 00 0C */	addi r3, r3, 0xc
/* 80527224 00522764  4B AD D2 79 */	bl TRK_memcpy
/* 80527228 00522768  3C 60 80 6A */	lis r3, lbl_8069A7E0@ha
/* 8052722C 0052276C  38 83 A7 E0 */	addi r4, r3, lbl_8069A7E0@l
/* 80527230 00522770  80 04 00 24 */	lwz r0, 0x24(r4)
/* 80527234 00522774  7C 64 EA 14 */	add r3, r4, r29
/* 80527238 00522778  90 03 00 10 */	stw r0, 0x10(r3)
/* 8052723C 0052277C  80 64 00 24 */	lwz r3, 0x24(r4)
/* 80527240 00522780  38 03 00 01 */	addi r0, r3, 1
/* 80527244 00522784  28 00 01 00 */	cmplwi r0, 0x100
/* 80527248 00522788  90 04 00 24 */	stw r0, 0x24(r4)
/* 8052724C 0052278C  40 80 00 0C */	bge lbl_80527258
/* 80527250 00522790  38 00 01 00 */	li r0, 0x100
/* 80527254 00522794  90 04 00 24 */	stw r0, 0x24(r4)
lbl_80527258:
/* 80527258 00522798  80 7E 00 04 */	lwz r3, 4(r30)
/* 8052725C 0052279C  38 03 00 01 */	addi r0, r3, 1
/* 80527260 005227A0  90 1E 00 04 */	stw r0, 4(r30)
lbl_80527264:
/* 80527264 005227A4  3C 60 80 6A */	lis r3, lbl_8069A7E0@ha
/* 80527268 005227A8  38 63 A7 E0 */	addi r3, r3, lbl_8069A7E0@l
/* 8052726C 005227AC  48 00 26 2D */	bl TRKReleaseMutex
/* 80527270 005227B0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80527274 005227B4  7F E3 FB 78 */	mr r3, r31
/* 80527278 005227B8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8052727C 005227BC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80527280 005227C0  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80527284 005227C4  7C 08 03 A6 */	mtlr r0
/* 80527288 005227C8  38 21 00 20 */	addi r1, r1, 0x20
/* 8052728C 005227CC  4E 80 00 20 */	blr 

.global TRKGetNextEvent
TRKGetNextEvent:
/* 80527290 005227D0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80527294 005227D4  7C 08 02 A6 */	mflr r0
/* 80527298 005227D8  3C 80 80 6A */	lis r4, lbl_8069A7E0@ha
/* 8052729C 005227DC  90 01 00 24 */	stw r0, 0x24(r1)
/* 805272A0 005227E0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 805272A4 005227E4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 805272A8 005227E8  3B C0 00 00 */	li r30, 0
/* 805272AC 005227EC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 805272B0 005227F0  7C 7D 1B 78 */	mr r29, r3
/* 805272B4 005227F4  38 64 A7 E0 */	addi r3, r4, lbl_8069A7E0@l
/* 805272B8 005227F8  48 00 25 E9 */	bl TRKAcquireMutex
/* 805272BC 005227FC  3C 60 80 6A */	lis r3, lbl_8069A7E0@ha
/* 805272C0 00522800  3B E3 A7 E0 */	addi r31, r3, lbl_8069A7E0@l
/* 805272C4 00522804  80 1F 00 04 */	lwz r0, 4(r31)
/* 805272C8 00522808  2C 00 00 00 */	cmpwi r0, 0
/* 805272CC 0052280C  40 81 00 4C */	ble lbl_80527318
/* 805272D0 00522810  80 1F 00 08 */	lwz r0, 8(r31)
/* 805272D4 00522814  7F A3 EB 78 */	mr r3, r29
/* 805272D8 00522818  38 A0 00 0C */	li r5, 0xc
/* 805272DC 0052281C  1C 00 00 0C */	mulli r0, r0, 0xc
/* 805272E0 00522820  7C 9F 02 14 */	add r4, r31, r0
/* 805272E4 00522824  38 84 00 0C */	addi r4, r4, 0xc
/* 805272E8 00522828  4B AD D1 B5 */	bl TRK_memcpy
/* 805272EC 0052282C  80 7F 00 08 */	lwz r3, 8(r31)
/* 805272F0 00522830  80 9F 00 04 */	lwz r4, 4(r31)
/* 805272F4 00522834  38 03 00 01 */	addi r0, r3, 1
/* 805272F8 00522838  38 64 FF FF */	addi r3, r4, -1
/* 805272FC 0052283C  90 1F 00 08 */	stw r0, 8(r31)
/* 80527300 00522840  2C 00 00 02 */	cmpwi r0, 2
/* 80527304 00522844  90 7F 00 04 */	stw r3, 4(r31)
/* 80527308 00522848  40 82 00 0C */	bne lbl_80527314
/* 8052730C 0052284C  38 00 00 00 */	li r0, 0
/* 80527310 00522850  90 1F 00 08 */	stw r0, 8(r31)
lbl_80527314:
/* 80527314 00522854  3B C0 00 01 */	li r30, 1
lbl_80527318:
/* 80527318 00522858  3C 60 80 6A */	lis r3, lbl_8069A7E0@ha
/* 8052731C 0052285C  38 63 A7 E0 */	addi r3, r3, lbl_8069A7E0@l
/* 80527320 00522860  48 00 25 79 */	bl TRKReleaseMutex
/* 80527324 00522864  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80527328 00522868  7F C3 F3 78 */	mr r3, r30
/* 8052732C 0052286C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80527330 00522870  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80527334 00522874  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80527338 00522878  7C 08 03 A6 */	mtlr r0
/* 8052733C 0052287C  38 21 00 20 */	addi r1, r1, 0x20
/* 80527340 00522880  4E 80 00 20 */	blr 

.global TRKInitializeEventQueue
TRKInitializeEventQueue:
/* 80527344 00522884  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80527348 00522888  7C 08 02 A6 */	mflr r0
/* 8052734C 0052288C  3C 60 80 6A */	lis r3, lbl_8069A7E0@ha
/* 80527350 00522890  90 01 00 14 */	stw r0, 0x14(r1)
/* 80527354 00522894  38 63 A7 E0 */	addi r3, r3, lbl_8069A7E0@l
/* 80527358 00522898  48 00 25 51 */	bl TRKInitializeMutex
/* 8052735C 0052289C  3C 60 80 6A */	lis r3, lbl_8069A7E0@ha
/* 80527360 005228A0  38 63 A7 E0 */	addi r3, r3, lbl_8069A7E0@l
/* 80527364 005228A4  48 00 25 3D */	bl TRKAcquireMutex
/* 80527368 005228A8  3C 60 80 6A */	lis r3, lbl_8069A7E0@ha
/* 8052736C 005228AC  38 80 00 00 */	li r4, 0
/* 80527370 005228B0  38 63 A7 E0 */	addi r3, r3, lbl_8069A7E0@l
/* 80527374 005228B4  38 00 01 00 */	li r0, 0x100
/* 80527378 005228B8  90 83 00 04 */	stw r4, 4(r3)
/* 8052737C 005228BC  90 83 00 08 */	stw r4, 8(r3)
/* 80527380 005228C0  90 03 00 24 */	stw r0, 0x24(r3)
/* 80527384 005228C4  48 00 25 15 */	bl TRKReleaseMutex
/* 80527388 005228C8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8052738C 005228CC  38 60 00 00 */	li r3, 0
/* 80527390 005228D0  7C 08 03 A6 */	mtlr r0
/* 80527394 005228D4  38 21 00 10 */	addi r1, r1, 0x10
/* 80527398 005228D8  4E 80 00 20 */	blr 
