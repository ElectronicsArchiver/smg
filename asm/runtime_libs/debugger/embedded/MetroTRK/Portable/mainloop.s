.text

.include "macros.inc"

.global TRKNubMainLoop
TRKNubMainLoop:
/* 8052707C 005225BC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80527080 005225C0  7C 08 02 A6 */	mflr r0
/* 80527084 005225C4  90 01 00 24 */	stw r0, 0x24(r1)
/* 80527088 005225C8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8052708C 005225CC  3B E0 00 00 */	li r31, 0
/* 80527090 005225D0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80527094 005225D4  3B C0 00 00 */	li r30, 0
/* 80527098 005225D8  48 00 00 BC */	b lbl_80527154
lbl_8052709C:
/* 8052709C 005225DC  38 61 00 08 */	addi r3, r1, 8
/* 805270A0 005225E0  48 00 01 F1 */	bl TRKGetNextEvent
/* 805270A4 005225E4  2C 03 00 00 */	cmpwi r3, 0
/* 805270A8 005225E8  41 82 00 6C */	beq lbl_80527114
/* 805270AC 005225EC  80 01 00 08 */	lwz r0, 8(r1)
/* 805270B0 005225F0  3B C0 00 00 */	li r30, 0
/* 805270B4 005225F4  2C 00 00 02 */	cmpwi r0, 2
/* 805270B8 005225F8  41 82 00 28 */	beq lbl_805270E0
/* 805270BC 005225FC  40 80 00 14 */	bge lbl_805270D0
/* 805270C0 00522600  2C 00 00 00 */	cmpwi r0, 0
/* 805270C4 00522604  41 82 00 44 */	beq lbl_80527108
/* 805270C8 00522608  40 80 00 28 */	bge lbl_805270F0
/* 805270CC 0052260C  48 00 00 3C */	b lbl_80527108
lbl_805270D0:
/* 805270D0 00522610  2C 00 00 05 */	cmpwi r0, 5
/* 805270D4 00522614  41 82 00 30 */	beq lbl_80527104
/* 805270D8 00522618  40 80 00 30 */	bge lbl_80527108
/* 805270DC 0052261C  48 00 00 1C */	b lbl_805270F8
lbl_805270E0:
/* 805270E0 00522620  80 61 00 10 */	lwz r3, 0x10(r1)
/* 805270E4 00522624  48 00 0B 3D */	bl TRKGetBuffer
/* 805270E8 00522628  48 00 0E D9 */	bl TRKDispatchMessage
/* 805270EC 0052262C  48 00 00 1C */	b lbl_80527108
lbl_805270F0:
/* 805270F0 00522630  3B E0 00 01 */	li r31, 1
/* 805270F4 00522634  48 00 00 14 */	b lbl_80527108
lbl_805270F8:
/* 805270F8 00522638  38 61 00 08 */	addi r3, r1, 8
/* 805270FC 0052263C  48 00 31 85 */	bl TRKPostInterruptEvent
/* 80527100 00522640  48 00 00 08 */	b lbl_80527108
lbl_80527104:
/* 80527104 00522644  48 00 2D 75 */	bl TRKTargetSupportRequest
lbl_80527108:
/* 80527108 00522648  38 61 00 08 */	addi r3, r1, 8
/* 8052710C 0052264C  48 00 00 69 */	bl TRKDestructEvent
/* 80527110 00522650  48 00 00 44 */	b lbl_80527154
lbl_80527114:
/* 80527114 00522654  2C 1E 00 00 */	cmpwi r30, 0
/* 80527118 00522658  41 82 00 1C */	beq lbl_80527134
/* 8052711C 0052265C  3C 60 80 6A */	lis r3, lbl_806A3248@ha
/* 80527120 00522660  38 63 32 48 */	addi r3, r3, lbl_806A3248@l
/* 80527124 00522664  80 63 00 00 */	lwz r3, 0(r3)
/* 80527128 00522668  88 03 00 00 */	lbz r0, 0(r3)
/* 8052712C 0052266C  28 00 00 00 */	cmplwi r0, 0
/* 80527130 00522670  41 82 00 10 */	beq lbl_80527140
lbl_80527134:
/* 80527134 00522674  3B C0 00 01 */	li r30, 1
/* 80527138 00522678  48 00 0C CD */	bl TRKGetInput
/* 8052713C 0052267C  48 00 00 18 */	b lbl_80527154
lbl_80527140:
/* 80527140 00522680  48 00 2D 29 */	bl TRKTargetStopped
/* 80527144 00522684  2C 03 00 00 */	cmpwi r3, 0
/* 80527148 00522688  40 82 00 08 */	bne lbl_80527150
/* 8052714C 0052268C  48 00 50 4D */	bl TRKTargetContinue
lbl_80527150:
/* 80527150 00522690  3B C0 00 00 */	li r30, 0
lbl_80527154:
/* 80527154 00522694  2C 1F 00 00 */	cmpwi r31, 0
/* 80527158 00522698  41 82 FF 44 */	beq lbl_8052709C
/* 8052715C 0052269C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80527160 005226A0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80527164 005226A4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80527168 005226A8  7C 08 03 A6 */	mtlr r0
/* 8052716C 005226AC  38 21 00 20 */	addi r1, r1, 0x20
/* 80527170 005226B0  4E 80 00 20 */	blr 
